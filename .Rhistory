filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"), 1, 0)) |>
filter(malay == 1) |>
summarise(reviews = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / reviews)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"), 1, 0)) |>
summarise(reviews = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / reviews)
google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0)) |>
summarise(reviews = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / reviews)
google_malay <- google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0)) |>
summarise(reviews = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / reviews)
google_malay <- google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|yg|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0))
google_malay |>
```
google_malay |>
glimpse()
google_malay |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_malay <- google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|lain|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0))
google_malay |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_malay <- google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0))
malay_list <- "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"
google_malay |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_malay <- google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0))
google_malay |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
google_malay <- google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"),
1, 0))
google_malay |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(reviews = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / reviews)
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "TripAdvisor"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "TripAdvisor"))
malay_pc_summary
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "TripAdvisor"))
malay_list <- c("yang", "yg", "sedap", "makanan", "Makanan", "saya", "Saya", "dulu", "Semua", " lain", "kali", "sdap", "sangat", "harga", "tapi", "terbaik", "berbaloi", "dgn", "siap", "tidak", "bole", "boleh")
malay_list <- "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh| lain"
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "TripAdvisor"))
malay_pc_summary
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
malay_list <- "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|rasa|siap|tidak|bole|boleh"
malay_list <- "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|siap|tidak|bole|boleh"
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = malay / count,
source = "TripAdvisor"))
malay_pc_summary
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
malay_list <- "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|siap|tidak|bole|boleh"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
malay_pc_summary
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
malay_list <- "yang|sedap|makanan|Makanan|saya|Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi|dgn|siap|tidak|bole|boleh| lain"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice|chargable"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
malay_list <- "yang|sedap|makanan|Makanan| saya| Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi| dgn|siap|tidak|bole|boleh| lain|cantik"
malay_list <- " yang|sedap|makanan|Makanan| saya| Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi| dgn|siap|tidak|bole|boleh| lain|cantik"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice|chargable|hargao"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice|chargable|hargao|kalian|Kalian"
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
filter(malay == 1) |>
sample_n(5) |>
pull(review)
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
malay_pc_summary
malay_pc_summary |> filter(source == "Google") |> pull(malay_pc)
malay_pc_summary |> filter(source == "TripAdvisor") |> pull(malay_pc)
# Maybe someone with a better grasp of Malay can improve on this,
# But it works pretty well as long as the not_malay_list is run as well
# The number for Trip Advisor is likely lower still, since there were still some false positives
malay_list <- " yang|sedap|makanan|Makanan| saya| Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi| dgn|siap|tidak|bole|boleh| lain|cantik|orang"
# Not really that surprising that "kalian" is always just a mispelling of "kailan"
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice|chargable|hargao|kalian|Kalian"
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
# Not really that surprising that "kalian" is always just a mispelling of "kailan",
# But I'll leave it out as it could make too many false negatives
not_malay_list <- "yangzhou|yang zhou|Yang zhou|sayang|Sayang|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice|chargable|hargao"
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
# Not really that surprising that "kalian" is always just a mispelling of "kailan",
# But I'll leave it out as it could make too many false negatives
not_malay_list <- "yangzhou|yang zhou|Yang zhou|wayang|Wayang|tapioca|Tapioca|Gansayam|Rasa Saya|ying yang|yin yang|goyang|fried rice|chargable|hargao"
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
# Maybe someone with a better grasp of Malay can improve on this,
# But it works pretty well as long as the not_malay_list is run as well
# The number for Trip Advisor is likely lower still, since there were still some false positives
malay_list <- " yang|sedap|makanan|Makanan| saya| Saya|dulu|semua|kali|sdap|sangat|Sangat|lauk|harga|tapi|terbaik|berbaloi| dgn|siap|tidak|bole|boleh| lain|cantik"
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
malay_pc_summary <- rbind(google_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "Google"),
trip_reviews |>
filter(!is.na(review)) |>
mutate(malay = ifelse(
str_detect(review, malay_list) &
!str_detect(review, not_malay_list), 1, 0)) |>
summarise(count = n(),
malay = sum(malay)) |>
mutate(malay_pc = round(malay / count * 100, 2),
source = "TripAdvisor"))
malay_pc_summary
