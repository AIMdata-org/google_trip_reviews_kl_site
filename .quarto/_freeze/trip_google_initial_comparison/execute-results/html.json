{
  "hash": "232e902644a6f9bee571a048e5aa5217",
  "result": {
    "engine": "knitr",
    "markdown": "---\nwebsite:\n  navbar:\n    background: primary\n    search: true\n    left:\n      - text: \"Home\"\n        href: \"www.aimdata.org\"\n      - talks.qmd\n      - about.qmd\ntitle: \"Google restaurant reviews in Kuala Lumpur, Petaling Jaya and Shah Alam, Malaysia\"\nsubtitle: \"AIMdata(https://www.aimdata.org)\"\nexecute: \n  echo: false\ntoc: true\ntoc-location: left\ntoc-depth: 4\nformat: \n  html:\n    code-fold: true\n    code-summary: \"Show code\"\n    page-layout: full\n    self-contained: true\n---\n\n::: {.cell}\n<style type=\"text/css\">\n\n#TOC::before {\n  content: \"\";\n  display: block;\n  height: 100px;\n  margin: 2em 20px 40px 20px;\n  background-image: url(\"https://github.com/AIMdata-org/aimdata-org.github.io/raw/main/img/logo_squares.png\");\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n</style>\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n## Introduction and overview\n\nWe're looking at two different datasets of scraped data: restaurant reviews from Google and Trip Advisor in Malaysia. They were both scraped by Ng Choon Khon using the Selenium library and cleaned by him as well. \n\nBelow, we've plotted out the restaurants found in both datasets according to the number of reviews and their mean rating. Immediately, we note an unnatural pattern in the Google dataset: Selenium is limited to scraping around 300 reviews from Google. Whilst this impacts and limits the dataset, we should still make the best use of it we can: Google's official API only allows five reviews to be extracted per restaurant because data freely given to the world and the rest of humanity must be paywalled and sold back to you. \n\nData is not meant to create a tool or an app, it is meant to create information. \n\n<br>\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](trip_google_initial_comparison_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\n\n<br>\n\nGoogle reviews are sorted by default by \"relevance\", so it is also not possible to say whether the reviews picked up by Selenium were the most recent, highest quality (word count, images), or were regarded by the community or Google as useful, just that it was some combination of those factors. \n\nAs we look into these datasets, let's bear these limitations in mind: \n-Google dataset is not a representative sample of reviews, as many restaurants only have the first 300 most \"relevant\" reviews.\n-Both Google maps and Trip Advisor are principally English language platforms when it isn't spoken by the majority of the population. Upon a cursory inspection, there are very few reviews in Malay.  \n-The price range is missing from this data. \n-These reviews were extracted three years ago: some of these restaurants have closed. Before we re-scrape the data and update these datasets, let's see what is of most in the existing data (which honestly was probably used to train a model to write fake reviews). \n\n\n<br>\n\n\n## Increasing interpretability: adding cuisine\n\nLet's now add a column for cuisine (the code can be downloaded at the top of the page, but it was a lot of manual work) to increase interpretability and to maximise the usefulness of the data. We'll narrow down the scope to locations in the Klang Valley (KL, PJ and Shah Alam; since I'm most familiar with and most interested in this metro).  \n\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\nDetermining the cuisine of a restaurant should be fairly obvious in most cases. Additional notes on the coding of these cuisines may be found in the appendices. \n\nLet's take a look at an overview of both datasets with cuisines included. From the plot below, we see that: \n\n* South Asian, Chinese, Casual Western, Japanese and Bars are the most commonly-reviewed (and the most common?)  restaurants in the Klang Valley.  \n* Chinese, Casual Western, Malaysian and Thai are the lowest-rated cuisines. \n* Fusion, Other Upmarket (experiential dining or unspecified \"international\" cuisine) and bars have the highest ratings, with 60% or more of all reviews being five stars. \n* Trip Advisor and Google reviewers differ the most on their opinions of Levantine, Casual Western and Japanese cuisine. \n\n\n<br>\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](trip_google_initial_comparison_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n\n<br>\n\n \nWith reference to the scatterplots below, that ratings are skewed towards the higher end: the mean rating of restaurants on Google is **4.16** and the mean rating on Trip Advisor is **4.22**. The median and mode for both datasets is **5**. This means that the median rating for a restaurant will likely provide a better centre for the data as the mean can be pulled down significantly by outlier low-starred reviews. \n\nFor both restaurants in Trip Advisor and Google, the higher the number of reviews, the higher the mean rating. Maybe popularity is an indicator of excellence? In food, at least.\n\n\n<br>\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](trip_google_initial_comparison_files/figure-html/restaurant-comparison-trip-google-1.png){width=768}\n:::\n:::\n\n\n\n\n\n\n\n<br>\n\n\n\nJust having these two sets of reviews to examine, \n\nAre reviews useful? The commonality of five-star reviews indicate that the mean rating is more likely an indicator of expectations being met rather than any true excellence. \n\n## In both Google and Trip\n\nThese differences probably come down to the reviewers on Google and Trip Advisor and their respective purposes. Google reviewers are often locals or general consumers, whilst Trip Advisor reviewers tend to be travellers who have to provide more structured, specific reviews, leading to less casual reviews as there is a minimum word count required. \n\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](trip_google_initial_comparison_files/figure-html/common-restaurants-1.png){width=960}\n:::\n:::\n\n\n\n\n\n<br>\n\nGoogle and TripAdvisor users seem to agree more than disagree. \nFive-star\n\nIt's possible that reviews are useless. \n\nGood service and environment can prevent a one-star review. \nHumans are crazy and feel debts viscerally. \nSeparate food from service and waiters? But restaurants don't do that. \nDining is an experience, and all aspects of the experience are vital. \n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Very nice coffee,and banana bacon french toast very yummy.your staff zahangir service very polite and friendly.definitely will come again.\"\n[2] \"Food and coffee very good. Serve by zahangir. Fully 5 star service. I will come back again.\"                                               \n[3] \"Very good service from zahangir. Fully 5 star service. Thanks antipodean Atria n management.\"                                              \n[4] \"Good service by zahangir best restaurant this area thanks antipodean\"                                                                      \n[5] \"Good food and service esp by zahangir.\"                                                                                                    \n```\n\n\n:::\n:::\n\n\n\n\n\nMaybe there should be separate scores for the food and the service? \nHow do ",
    "supporting": [
      "trip_google_initial_comparison_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}